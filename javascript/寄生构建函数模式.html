<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>寄生构建函数模式</title>
  </head>
  <body>
    <script>
      // 寄生构建函数模式
      // 基本思想是封装创建对象的代码，然后返回创建的新对象。
      // 特点:很想一个典型的构建函数

      function Person(name, age, job) {
        var o = new Object();
        o.name = name;
        o.age = age;
        o.job = job;
        o.sayName = function() {
          console.log(this.name);
        };
        return o;
      }

      var person1 = new Person("tyc", 23, "web");
      person1.sayName();
      // 应用:为对象创建构造函数
      function SpecialArray() {
        // 创建一个数组
        var values = new Array();
        // 为数组添加值
        values.push.apply(values, arguments);
        // 添加方法
        values.toPipedString = function() {
          return this.join("|");
        };
        // 返回数组]
        return values;
      }
      var colors = new SpecialArray("red", "green", "yellow");
      colors.toPipedString();
      console.log(colors);
      console.log(colors.toPipedString());
    </script>
  </body>
</html>
